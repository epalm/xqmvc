1) Consider URL-Rewritting, works for MarkLogic, will probably need to be changed for eXist-db and abstracted out. see xqmvc.xqy link() functions